
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1. Premières requêtes en MongoDB &#8212; MongoDB : notes de cours</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="2. Attributs de type liste" href="02_listes.html" />
    <link rel="prev" title="MongoDB : Notes de cours" href="00_intro.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">MongoDB : notes de cours</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="00_intro.html">
   MongoDB : Notes de cours
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Chapitres
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   1. Premières requêtes en MongoDB
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02_listes.html">
   2. Attributs de type liste
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="03_dates.html">
   3. Attributs de type date
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="04_index.html">
   4. Les index
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_agreg.html">
   5. Les requêtes d’agrégation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06_modif.html">
   6. Les requêtes de modification
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="07_scripts.html">
   7. Effectuer des requêtes depuis des programmes Python ou R
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="07_scripts_py.html">
     7.1. Requêtes depuis Python :
     <code class="docutils literal notranslate">
      <span class="pre">
       pymongo
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="07_scripts_R.html">
     7.2. Requêtes depuis R :
     <code class="docutils literal notranslate">
      <span class="pre">
       mongolite
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        <a class="dropdown-buttons"
            href="../_sources/content/01_find.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download notebook file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/content/01_find.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/rtavenar/mongo_book"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/rtavenar/mongo_book/issues/new?title=Issue%20on%20page%20%2Fcontent/01_find.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/rtavenar/mongo_book/main?urlpath=tree/docs/content/01_find.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction-a-mongodb">
   1.1. Introduction à MongoDB
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#requetes-d-interrogation-et-de-filtrage-des-donnees">
   1.2. Requêtes d’interrogation et de filtrage des données
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#syntaxe-d-interrogation-de-donnees-sans-et-avec-condition">
     1.2.1. Syntaxe d’interrogation de données sans et avec condition
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#poser-une-condition-sur-une-cle-de-sous-document">
     1.2.2. Poser une condition sur une clé de sous-document
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#projection-des-donnees">
     1.2.3. Projection des données
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#requetes-plus-complexes-en-utilisant-des-operateurs">
   1.3. Requêtes plus complexes en utilisant des opérateurs
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#operateurs-de-comparaison">
     1.3.1. Opérateurs de comparaison
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#operateurs-logiques">
     1.3.2. Opérateurs logiques
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#et-logique">
       1.3.2.1. ET logique
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#ou-logique">
       1.3.2.2. OU logique
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#non-ou-logique">
       1.3.2.3. NON OU logique
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#non-logique">
       1.3.2.4. NON logique
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#methodes-utiles-pour-des-requetes-en-mongodb">
   1.4. Méthodes utiles pour des requêtes en MongoDB
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#connaitre-la-liste-des-collections-dans-une-base-de-donnees">
     1.4.1. Connaître la liste des collections dans une base de données
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#valeurs-distinctes-d-un-champ-la-methode-distinct">
     1.4.2. Valeurs distinctes d’un champ : la méthode
     <code class="docutils literal notranslate">
      <span class="pre">
       distinct
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#compter-le-nombre-d-elements-la-methode-count">
     1.4.3. Compter le nombre d’éléments : la méthode
     <code class="docutils literal notranslate">
      <span class="pre">
       count
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#trier-les-documents-resultat-la-methode-sort">
     1.4.4. Trier les documents résultat : la méthode
     <code class="docutils literal notranslate">
      <span class="pre">
       sort
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#limiter-le-nombre-de-documents-retournes-la-methode-limit">
     1.4.5. Limiter le nombre de documents retournés : la méthode
     <code class="docutils literal notranslate">
      <span class="pre">
       limit
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pour-conclure-ce-chapitre">
   1.5. Pour conclure ce chapitre
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fiche-resume-pour-bien-demarrer-en-mongodb">
     1.5.1. Fiche résumé pour bien démarrer en MongoDB
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#quiz-premieres-requetes-en-mongodb-a-vous-de-jouer">
     1.5.2. Quiz “Premières requêtes en MongoDB” : À vous de jouer !
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Premières requêtes en MongoDB</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction-a-mongodb">
   1.1. Introduction à MongoDB
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#requetes-d-interrogation-et-de-filtrage-des-donnees">
   1.2. Requêtes d’interrogation et de filtrage des données
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#syntaxe-d-interrogation-de-donnees-sans-et-avec-condition">
     1.2.1. Syntaxe d’interrogation de données sans et avec condition
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#poser-une-condition-sur-une-cle-de-sous-document">
     1.2.2. Poser une condition sur une clé de sous-document
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#projection-des-donnees">
     1.2.3. Projection des données
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#requetes-plus-complexes-en-utilisant-des-operateurs">
   1.3. Requêtes plus complexes en utilisant des opérateurs
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#operateurs-de-comparaison">
     1.3.1. Opérateurs de comparaison
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#operateurs-logiques">
     1.3.2. Opérateurs logiques
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#et-logique">
       1.3.2.1. ET logique
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#ou-logique">
       1.3.2.2. OU logique
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#non-ou-logique">
       1.3.2.3. NON OU logique
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#non-logique">
       1.3.2.4. NON logique
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#methodes-utiles-pour-des-requetes-en-mongodb">
   1.4. Méthodes utiles pour des requêtes en MongoDB
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#connaitre-la-liste-des-collections-dans-une-base-de-donnees">
     1.4.1. Connaître la liste des collections dans une base de données
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#valeurs-distinctes-d-un-champ-la-methode-distinct">
     1.4.2. Valeurs distinctes d’un champ : la méthode
     <code class="docutils literal notranslate">
      <span class="pre">
       distinct
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#compter-le-nombre-d-elements-la-methode-count">
     1.4.3. Compter le nombre d’éléments : la méthode
     <code class="docutils literal notranslate">
      <span class="pre">
       count
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#trier-les-documents-resultat-la-methode-sort">
     1.4.4. Trier les documents résultat : la méthode
     <code class="docutils literal notranslate">
      <span class="pre">
       sort
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#limiter-le-nombre-de-documents-retournes-la-methode-limit">
     1.4.5. Limiter le nombre de documents retournés : la méthode
     <code class="docutils literal notranslate">
      <span class="pre">
       limit
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pour-conclure-ce-chapitre">
   1.5. Pour conclure ce chapitre
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fiche-resume-pour-bien-demarrer-en-mongodb">
     1.5.1. Fiche résumé pour bien démarrer en MongoDB
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#quiz-premieres-requetes-en-mongodb-a-vous-de-jouer">
     1.5.2. Quiz “Premières requêtes en MongoDB” : À vous de jouer !
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="premieres-requetes-en-mongodb">
<h1><span class="section-number">1. </span>Premières requêtes en MongoDB<a class="headerlink" href="#premieres-requetes-en-mongodb" title="Permalink to this headline">¶</a></h1>
<p>Autrices et auteurs : Julie FRANCOISE, Manon MAHEO et Valentin PENISSON</p>
<div class="section" id="introduction-a-mongodb">
<h2><span class="section-number">1.1. </span>Introduction à MongoDB<a class="headerlink" href="#introduction-a-mongodb" title="Permalink to this headline">¶</a></h2>
<p>Dans un <strong>système de base de données relationnelles</strong> <em>(comme les bases de données que l’on interroge avec la syntaxe SQL)</em>, les données sont stockées par <strong>ligne</strong> dans des <strong>tables</strong> <em>(également appelées relations)</em>. Le modèle de données relationnel est un modèle <strong>structuré</strong>, comportant des <strong>attributs typés</strong> <em>(les colonnes/attributs des tables ont un type précis qu’il soit numérique, alphanumérique ou temporel)</em> et des <strong>contraintes d’intégrité</strong> <em>(comme par exemple celle de l’unicité des valeurs de la clé primaire)</em>. Dans ce type de structure, il est nécessaire d’établir des <strong>jointures sur plusieurs tables</strong> afin de tirer des informations pertinentes sur la base de données.</p>
<p>Dans MongoDB, les données sont modélisées sous forme de paires clés-valeurs (comme dans un dictionnaire en Python).
On ne parle plus de tables et d’enregistrements mais de <strong>collections</strong> et de <strong>documents</strong>.
Une collection est un ensemble de documents, c’est l’équivalent d’une table dans un modèle relationnel. Un document est un enregistrement, une ligne dans le modèle de données relationnel. Ce système de gestion de données nous évite de faire des jointures de tables car <strong>toutes les informations nécessaires sont stockées dans un même document</strong>.</p>
<p>De plus, l’utilisation de bases de données NoSQL avec MongoDB nous permet plus de flexibilité en termes de mise à jour de la structure des données : aucun modèle n’est supposé sur les données, aucun attribut n’est obligatoire et il n’y a pas de type fixé pour un attribut.</p>
<p>Tout document appartient donc à une collection et a un champ appelé <code class="docutils literal notranslate"><span class="pre">_id</span></code> qui identifie le document dans la base de données. Prenons pour exemple la base de données <code class="docutils literal notranslate"><span class="pre">etudiants</span></code>. Voici un exemple de document :</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="nx">ObjectId</span><span class="p">(</span><span class="s2">&quot;56011920de43611b917d773d&quot;</span><span class="p">),</span>
    <span class="s2">&quot;nom&quot;</span> <span class="o">:</span> <span class="s2">&quot;Paul&quot;</span><span class="p">,</span>
    <span class="s2">&quot;notes&quot;</span> <span class="o">:</span> <span class="p">[</span> 
        <span class="mf">10.0</span><span class="p">,</span> 
        <span class="mf">12.0</span>
    <span class="p">],</span>
    <span class="s2">&quot;sexe&quot;</span> <span class="o">:</span> <span class="s2">&quot;M&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Les clés se doivent d’être des chaînes de caractères et les valeurs peuvent être <em>des valeurs booléennes, des nombres, des chaînes de caractères, des dates ou des listes de valeurs</em> comme nous venons de le voir. Les clés et les valeurs sont sensibles à la casse et au type. Chaque clé doît être unique, il n’est pas possible d’avoir deux fois la même clé dans un document.</p>
<p>Dans ce chapitre, nous étudierons dans un premier temps <a class="reference external" href="#find">comment interroger les données d’une base de données MongoDB avec la fonction <code class="docutils literal notranslate"><span class="pre">find</span></code></a>.
Dans un deuxième temps, nous regarderons comment effectuer des <a class="reference external" href="#operateurs">requêtes plus complexes, impliquant des opérateurs de comparaison</a>.
Quelques <a class="reference external" href="#methodes">méthodes utiles</a> pour des requêtes en MongoDB, une <a class="reference external" href="#resume">fiche “résumé” des points saillants à retenir</a> et un petit <a class="reference external" href="#quiz">quiz</a> sont fournis à la fin de ce chapitre.</p>
</div>
<div class="section" id="requetes-d-interrogation-et-de-filtrage-des-donnees">
<span id="find"></span><h2><span class="section-number">1.2. </span>Requêtes d’interrogation et de filtrage des données<a class="headerlink" href="#requetes-d-interrogation-et-de-filtrage-des-donnees" title="Permalink to this headline">¶</a></h2>
<p>Pour récupérer des documents stockés dans une collection, il est nécessaire d’utiliser la fonction <code class="docutils literal notranslate"><span class="pre">find</span></code>.</p>
<div class="admonition-remarque admonition">
<p class="admonition-title">Remarque</p>
<p>Toute commande sur une collection intitulée <code class="docutils literal notranslate"><span class="pre">collectionName</span></code> utilise le préfixe db : <code class="docutils literal notranslate"><span class="pre">db.collectionName</span></code>. Il suffit d’y associer la fonction souhaitée pour avoir un résultat. En l’occurence, ici la syntaxe de données d’interrogation MongoDB est <code class="docutils literal notranslate"><span class="pre">db.collectionName.find()</span></code> (où vous devrez changer <code class="docutils literal notranslate"><span class="pre">collectionName</span></code> par le nom de la collection sur laquelle vous souhaitez effectuer une requête).</p>
</div>
<div class="section" id="syntaxe-d-interrogation-de-donnees-sans-et-avec-condition">
<h3><span class="section-number">1.2.1. </span>Syntaxe d’interrogation de données sans et avec condition<a class="headerlink" href="#syntaxe-d-interrogation-de-donnees-sans-et-avec-condition" title="Permalink to this headline">¶</a></h3>
<p>En MongoDB, lorsque l’on interroge une base de données, il existe deux types de requêtes simples, retournant respectivement <strong>toutes les occurences d’une collection</strong> ou <strong>seulement la première</strong>. Que l’on souhaite récupérer la première occurrence de la liste des résultats ou bien toute la liste des résultats, voici la syntaxe :</p>
<div class="sphinx-bs container pb-4 docutils">
<div class="row docutils">
<div class="d-flex col-lg-6 col-md-6 col-sm-6 col-xs-12 p-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header docutils">
<p class="card-text">Retourner toutes les occurences
d’une collection avec find()</p>
</div>
<div class="card-body docutils">
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span> <span class="nx">db</span><span class="p">.</span><span class="nx">collectionName</span><span class="p">.</span><span class="nx">find</span><span class="p">()</span>
 <span class="nx">db</span><span class="p">.</span><span class="nx">collectionName</span><span class="p">.</span><span class="nx">find</span><span class="p">({})</span> 
</pre></div>
</div>
</div>
</div>
</div>
<div class="d-flex col-lg-6 col-md-6 col-sm-6 col-xs-12 p-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header docutils">
<p class="card-text">Retourner uniquement la première occurence
d’une collection avec findOne()</p>
</div>
<div class="card-body docutils">
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">collectionName</span><span class="p">.</span><span class="nx">findOne</span><span class="p">()</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">collectionName</span><span class="p">.</span><span class="nx">findOne</span><span class="p">({})</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<p>Pour voir cela sur un exemple, sélctionnons la base <code class="docutils literal notranslate"><span class="pre">food</span></code> comme suit :</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">use</span> <span class="nx">food</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>switched to db food
</pre></div>
</div>
</div>
</div>
<p>Cette base de données contient une collection <code class="docutils literal notranslate"><span class="pre">NYfood</span></code> qui recense un ensemble de restaurants new-yorkais et nous donne, pour chaque restaurant, des informations sur son quartier, son adresse, son type de cuisine, son nom, les notes qu’il a obtenues et son identifiant. Voici un extrait d’un document présent dans la collection <code class="docutils literal notranslate"><span class="pre">NYfood</span></code> :</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="nx">ObjectId</span><span class="p">(</span><span class="s2">&quot;6006c1882822efb1c9290f68&quot;</span><span class="p">),</span>
    <span class="s2">&quot;address&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;building&quot;</span> <span class="o">:</span> <span class="s2">&quot;265-15&quot;</span><span class="p">,</span>
        <span class="s2">&quot;loc&quot;</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span> <span class="o">:</span> <span class="s2">&quot;Point&quot;</span><span class="p">,</span>
            <span class="s2">&quot;coordinates&quot;</span> <span class="o">:</span> <span class="p">[</span> 
                <span class="o">-</span><span class="mf">73.7032601</span><span class="p">,</span> 
                <span class="mf">40.7386417</span>
            <span class="p">]</span>
        <span class="p">},</span>
        <span class="s2">&quot;street&quot;</span> <span class="o">:</span> <span class="s2">&quot;Hillside Avenue&quot;</span><span class="p">,</span>
        <span class="s2">&quot;zipcode&quot;</span> <span class="o">:</span> <span class="s2">&quot;11004&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;borough&quot;</span> <span class="o">:</span> <span class="s2">&quot;Queens&quot;</span><span class="p">,</span>
    <span class="s2">&quot;cuisine&quot;</span> <span class="o">:</span> <span class="s2">&quot;Ice Cream, Gelato, Yogurt, Ices&quot;</span><span class="p">,</span>
    <span class="s2">&quot;grades&quot;</span> <span class="o">:</span> <span class="p">[</span> 
        <span class="p">{</span>
            <span class="s2">&quot;date&quot;</span> <span class="o">:</span> <span class="nx">ISODate</span><span class="p">(</span><span class="s2">&quot;2014-10-28T00:00:00.000Z&quot;</span><span class="p">),</span>
            <span class="s2">&quot;grade&quot;</span> <span class="o">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
            <span class="s2">&quot;score&quot;</span> <span class="o">:</span> <span class="mf">9</span>
        <span class="p">},</span> 
        <span class="p">{</span>
            <span class="s2">&quot;date&quot;</span> <span class="o">:</span> <span class="nx">ISODate</span><span class="p">(</span><span class="s2">&quot;2013-09-18T00:00:00.000Z&quot;</span><span class="p">),</span>
            <span class="s2">&quot;grade&quot;</span> <span class="o">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
            <span class="s2">&quot;score&quot;</span> <span class="o">:</span> <span class="mf">10</span>
        <span class="p">},</span> 
        <span class="p">{</span>
            <span class="s2">&quot;date&quot;</span> <span class="o">:</span> <span class="nx">ISODate</span><span class="p">(</span><span class="s2">&quot;2012-09-20T00:00:00.000Z&quot;</span><span class="p">),</span>
            <span class="s2">&quot;grade&quot;</span> <span class="o">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
            <span class="s2">&quot;score&quot;</span> <span class="o">:</span> <span class="mf">13</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;name&quot;</span> <span class="o">:</span> <span class="s2">&quot;Carvel Ice Cream&quot;</span><span class="p">,</span>
    <span class="s2">&quot;restaurant_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;40361322&quot;</span>
<span class="p">}</span>   
    
</pre></div>
</div>
<p>En utilisant la syntaxe précédente, recherchons par exemple les documents de la collection <code class="docutils literal notranslate"><span class="pre">NYfood</span></code> correspondant à des <strong>boulangeries</strong> <em>(pour lesquels le champ “cuisine” vaut “Bakery”)</em> <strong>du Bronx</strong> <em>(pour lesquels le champ “borough” vaut “Bronx”)</em>.</p>
<p>````{tabbed} Exemple sur la base de données <code class="docutils literal notranslate"><span class="pre">food</span></code></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">NYfood</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span>
    <span class="p">{</span><span class="s2">&quot;cuisine&quot;</span><span class="o">:</span> <span class="s2">&quot;Bakery&quot;</span><span class="p">,</span> <span class="s2">&quot;borough&quot;</span><span class="o">:</span> <span class="s2">&quot;Bronx&quot;</span><span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
````{tabbed} Parallèle avec le langage SQL

```sql
SELECT *
FROM NYfood
WHERE cuisine = &#39;Bakery&#39; AND borough = &#39;Bronx&#39;
```

</pre></div>
</div>
<p>Dans cet exemple, et dans vos requêtes MongoDB en général, la virgule représente un <strong>ET logique</strong> entre les contraintes.</p>
</div>
<div class="section" id="poser-une-condition-sur-une-cle-de-sous-document">
<h3><span class="section-number">1.2.2. </span>Poser une condition sur une clé de sous-document<a class="headerlink" href="#poser-une-condition-sur-une-cle-de-sous-document" title="Permalink to this headline">¶</a></h3>
<p>Il se peut que pour une clé d’un document, comme par exemple l’adresse d’un restaurant dans la collection <code class="docutils literal notranslate"><span class="pre">NYfood</span></code>, nous disposions d’un <strong>sous-document</strong> contenant à la fois les coordonnées GPS et l’adresse postale. Plutôt qu’une liste de valeur comme présentée précédemment, nous avons comme valeur de la clé un nouveau document.</p>
<p>Si l’on souhaite poser une condition sur une clé ou plusieurs clés de sous-document, on utilise alors la syntaxe suivante :</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">NYfood</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="s2">&quot;address.zipcode&quot;</span><span class="o">:</span> <span class="s2">&quot;10462&quot;</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{
	&quot;_id&quot; : ObjectId(&quot;61e690c0bce53d29d397f7e1&quot;),
	&quot;address&quot; : {
		&quot;building&quot; : &quot;1007&quot;,
		&quot;loc&quot; : {
			&quot;type&quot; : &quot;Point&quot;,
			&quot;coordinates&quot; : [
				-73.856077,
				40.848447
			]
		},
		&quot;street&quot; : &quot;Morris Park Ave&quot;,
		&quot;zipcode&quot; : &quot;10462&quot;
	},
	&quot;borough&quot; : &quot;Bronx&quot;,
	&quot;cuisine&quot; : &quot;Bakery&quot;,
	&quot;grades&quot; : [
		{
			&quot;date&quot; : ISODate(&quot;2014-03-03T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 2
		},
		{
			&quot;date&quot; : ISODate(&quot;2013-09-11T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 6
		},
		{
			&quot;date&quot; : ISODate(&quot;2013-01-24T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 10
		},
		{
			&quot;date&quot; : ISODate(&quot;2011-11-23T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 9
		},
		{
			&quot;date&quot; : ISODate(&quot;2011-03-10T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;B&quot;,
			&quot;score&quot; : 14
		}
	],
	&quot;name&quot; : &quot;Morris Park Bake Shop&quot;,
	&quot;restaurant_id&quot; : &quot;30075445&quot;
}
{
	&quot;_id&quot; : ObjectId(&quot;61e690c0bce53d29d397f834&quot;),
	&quot;address&quot; : {
		&quot;building&quot; : &quot;2222&quot;,
		&quot;loc&quot; : {
			&quot;type&quot; : &quot;Point&quot;,
			&quot;coordinates&quot; : [
				-73.84971759999999,
				40.8304811
			]
		},
		&quot;street&quot; : &quot;Haviland Avenue&quot;,
		&quot;zipcode&quot; : &quot;10462&quot;
	},
	&quot;borough&quot; : &quot;Bronx&quot;,
	&quot;cuisine&quot; : &quot;American &quot;,
	&quot;grades&quot; : [
		{
			&quot;date&quot; : ISODate(&quot;2014-12-18T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 7
		},
		{
			&quot;date&quot; : ISODate(&quot;2014-05-01T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;B&quot;,
			&quot;score&quot; : 17
		},
		{
			&quot;date&quot; : ISODate(&quot;2013-03-14T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 12
		},
		{
			&quot;date&quot; : ISODate(&quot;2012-09-20T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 9
		},
		{
			&quot;date&quot; : ISODate(&quot;2012-02-08T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;B&quot;,
			&quot;score&quot; : 19
		}
	],
	&quot;name&quot; : &quot;The New Starling Athletic Club Of The Bronx&quot;,
	&quot;restaurant_id&quot; : &quot;40364956&quot;
}
{
	&quot;_id&quot; : ObjectId(&quot;61e690c0bce53d29d397f889&quot;),
	&quot;address&quot; : {
		&quot;building&quot; : &quot;1191&quot;,
		&quot;loc&quot; : {
			&quot;type&quot; : &quot;Point&quot;,
			&quot;coordinates&quot; : [
				-73.8513114,
				40.8316981
			]
		},
		&quot;street&quot; : &quot;Castle Hill Avenue&quot;,
		&quot;zipcode&quot; : &quot;10462&quot;
	},
	&quot;borough&quot; : &quot;Bronx&quot;,
	&quot;cuisine&quot; : &quot;Café/Coffee/Tea&quot;,
	&quot;grades&quot; : [
		{
			&quot;date&quot; : ISODate(&quot;2014-07-03T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 12
		},
		{
			&quot;date&quot; : ISODate(&quot;2013-07-08T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 9
		},
		{
			&quot;date&quot; : ISODate(&quot;2013-02-11T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 11
		},
		{
			&quot;date&quot; : ISODate(&quot;2012-08-14T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;B&quot;,
			&quot;score&quot; : 14
		},
		{
			&quot;date&quot; : ISODate(&quot;2011-08-23T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 12
		}
	],
	&quot;name&quot; : &quot;Lulu&#39;S Coffee Shop&quot;,
	&quot;restaurant_id&quot; : &quot;40366938&quot;
}
{
	&quot;_id&quot; : ObjectId(&quot;61e690c0bce53d29d397f8ee&quot;),
	&quot;address&quot; : {
		&quot;building&quot; : &quot;2375&quot;,
		&quot;loc&quot; : {
			&quot;type&quot; : &quot;Point&quot;,
			&quot;coordinates&quot; : [
				-73.85534559999999,
				40.8426433
			]
		},
		&quot;street&quot; : &quot;East Tremont Avenue&quot;,
		&quot;zipcode&quot; : &quot;10462&quot;
	},
	&quot;borough&quot; : &quot;Bronx&quot;,
	&quot;cuisine&quot; : &quot;American &quot;,
	&quot;grades&quot; : [
		{
			&quot;date&quot; : ISODate(&quot;2014-10-14T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 13
		},
		{
			&quot;date&quot; : ISODate(&quot;2014-04-08T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 8
		},
		{
			&quot;date&quot; : ISODate(&quot;2013-11-04T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;C&quot;,
			&quot;score&quot; : 45
		},
		{
			&quot;date&quot; : ISODate(&quot;2013-05-23T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 10
		},
		{
			&quot;date&quot; : ISODate(&quot;2012-10-18T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;B&quot;,
			&quot;score&quot; : 15
		},
		{
			&quot;date&quot; : ISODate(&quot;2012-10-05T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;P&quot;,
			&quot;score&quot; : 12
		},
		{
			&quot;date&quot; : ISODate(&quot;2012-05-14T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 12
		},
		{
			&quot;date&quot; : ISODate(&quot;2011-12-21T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 11
		}
	],
	&quot;name&quot; : &quot;Bronx Grill&quot;,
	&quot;restaurant_id&quot; : &quot;40369601&quot;
}
{
	&quot;_id&quot; : ObjectId(&quot;61e690c0bce53d29d397f971&quot;),
	&quot;address&quot; : {
		&quot;building&quot; : &quot;1200&quot;,
		&quot;loc&quot; : {
			&quot;type&quot; : &quot;Point&quot;,
			&quot;coordinates&quot; : [
				-73.8507489,
				40.832069
			]
		},
		&quot;street&quot; : &quot;Castle Hill Avenue&quot;,
		&quot;zipcode&quot; : &quot;10462&quot;
	},
	&quot;borough&quot; : &quot;Bronx&quot;,
	&quot;cuisine&quot; : &quot;Chinese/Cuban&quot;,
	&quot;grades&quot; : [
		{
			&quot;date&quot; : ISODate(&quot;2014-10-29T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;B&quot;,
			&quot;score&quot; : 15
		},
		{
			&quot;date&quot; : ISODate(&quot;2014-04-03T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 7
		},
		{
			&quot;date&quot; : ISODate(&quot;2012-02-16T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 5
		}
	],
	&quot;name&quot; : &quot;Sabrosura Restaurant&quot;,
	&quot;restaurant_id&quot; : &quot;40375136&quot;
}
{
	&quot;_id&quot; : ObjectId(&quot;61e690c0bce53d29d397f997&quot;),
	&quot;address&quot; : {
		&quot;building&quot; : &quot;749&quot;,
		&quot;loc&quot; : {
			&quot;type&quot; : &quot;Point&quot;,
			&quot;coordinates&quot; : [
				-73.8657838,
				40.8544744
			]
		},
		&quot;street&quot; : &quot;Lydig Avenue&quot;,
		&quot;zipcode&quot; : &quot;10462&quot;
	},
	&quot;borough&quot; : &quot;Bronx&quot;,
	&quot;cuisine&quot; : &quot;Pizza/Italian&quot;,
	&quot;grades&quot; : [
		{
			&quot;date&quot; : ISODate(&quot;2015-01-09T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;Z&quot;,
			&quot;score&quot; : 17
		},
		{
			&quot;date&quot; : ISODate(&quot;2014-06-25T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;B&quot;,
			&quot;score&quot; : 20
		},
		{
			&quot;date&quot; : ISODate(&quot;2013-12-09T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;B&quot;,
			&quot;score&quot; : 22
		},
		{
			&quot;date&quot; : ISODate(&quot;2013-06-15T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;B&quot;,
			&quot;score&quot; : 24
		},
		{
			&quot;date&quot; : ISODate(&quot;2012-05-30T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 7
		}
	],
	&quot;name&quot; : &quot;John &amp; Joe Pizzeria &amp; Restaurant&quot;,
	&quot;restaurant_id&quot; : &quot;40377243&quot;
}
{
	&quot;_id&quot; : ObjectId(&quot;61e690c0bce53d29d397f9f2&quot;),
	&quot;address&quot; : {
		&quot;building&quot; : &quot;1506&quot;,
		&quot;loc&quot; : {
			&quot;type&quot; : &quot;Point&quot;,
			&quot;coordinates&quot; : [
				-73.8537226,
				40.8427071
			]
		},
		&quot;street&quot; : &quot;Bronxdale Avenue&quot;,
		&quot;zipcode&quot; : &quot;10462&quot;
	},
	&quot;borough&quot; : &quot;Bronx&quot;,
	&quot;cuisine&quot; : &quot;American &quot;,
	&quot;grades&quot; : [
		{
			&quot;date&quot; : ISODate(&quot;2014-06-04T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 5
		},
		{
			&quot;date&quot; : ISODate(&quot;2013-05-22T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 10
		},
		{
			&quot;date&quot; : ISODate(&quot;2012-12-13T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 12
		},
		{
			&quot;date&quot; : ISODate(&quot;2012-05-14T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;B&quot;,
			&quot;score&quot; : 16
		},
		{
			&quot;date&quot; : ISODate(&quot;2011-12-28T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 13
		},
		{
			&quot;date&quot; : ISODate(&quot;2011-08-10T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 11
		}
	],
	&quot;name&quot; : &quot;Castlehill Diner&quot;,
	&quot;restaurant_id&quot; : &quot;40382517&quot;
}
{
	&quot;_id&quot; : ObjectId(&quot;61e690c0bce53d29d397fa4a&quot;),
	&quot;address&quot; : {
		&quot;building&quot; : &quot;1539&quot;,
		&quot;loc&quot; : {
			&quot;type&quot; : &quot;Point&quot;,
			&quot;coordinates&quot; : [
				-73.8574277,
				40.8366717
			]
		},
		&quot;street&quot; : &quot;Unionport Road&quot;,
		&quot;zipcode&quot; : &quot;10462&quot;
	},
	&quot;borough&quot; : &quot;Bronx&quot;,
	&quot;cuisine&quot; : &quot;Pizza&quot;,
	&quot;grades&quot; : [
		{
			&quot;date&quot; : ISODate(&quot;2014-12-18T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 8
		},
		{
			&quot;date&quot; : ISODate(&quot;2013-12-18T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 9
		},
		{
			&quot;date&quot; : ISODate(&quot;2013-07-24T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 3
		},
		{
			&quot;date&quot; : ISODate(&quot;2012-08-01T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 10
		},
		{
			&quot;date&quot; : ISODate(&quot;2012-02-29T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 10
		}
	],
	&quot;name&quot; : &quot;Venice Pizza&quot;,
	&quot;restaurant_id&quot; : &quot;40386278&quot;
}
{
	&quot;_id&quot; : ObjectId(&quot;61e690c0bce53d29d397fa82&quot;),
	&quot;address&quot; : {
		&quot;building&quot; : &quot;2140&quot;,
		&quot;loc&quot; : {
			&quot;type&quot; : &quot;Point&quot;,
			&quot;coordinates&quot; : [
				-73.8529552,
				40.83376459999999
			]
		},
		&quot;street&quot; : &quot;Westchester Avenue&quot;,
		&quot;zipcode&quot; : &quot;10462&quot;
	},
	&quot;borough&quot; : &quot;Bronx&quot;,
	&quot;cuisine&quot; : &quot;Hamburgers&quot;,
	&quot;grades&quot; : [
		{
			&quot;date&quot; : ISODate(&quot;2014-07-15T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 5
		},
		{
			&quot;date&quot; : ISODate(&quot;2014-01-02T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 12
		},
		{
			&quot;date&quot; : ISODate(&quot;2013-05-29T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 3
		},
		{
			&quot;date&quot; : ISODate(&quot;2012-10-10T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;B&quot;,
			&quot;score&quot; : 21
		},
		{
			&quot;date&quot; : ISODate(&quot;2012-05-23T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 13
		},
		{
			&quot;date&quot; : ISODate(&quot;2011-12-29T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 9
		}
	],
	&quot;name&quot; : &quot;Wendy&#39;S&quot;,
	&quot;restaurant_id&quot; : &quot;40388016&quot;
}
{
	&quot;_id&quot; : ObjectId(&quot;61e690c0bce53d29d397fa8b&quot;),
	&quot;address&quot; : {
		&quot;building&quot; : &quot;1665&quot;,
		&quot;loc&quot; : {
			&quot;type&quot; : &quot;Point&quot;,
			&quot;coordinates&quot; : [
				-73.8555094,
				40.8406624
			]
		},
		&quot;street&quot; : &quot;Metropolitan Avenue&quot;,
		&quot;zipcode&quot; : &quot;10462&quot;
	},
	&quot;borough&quot; : &quot;Bronx&quot;,
	&quot;cuisine&quot; : &quot;Pizza&quot;,
	&quot;grades&quot; : [
		{
			&quot;date&quot; : ISODate(&quot;2014-03-27T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 9
		},
		{
			&quot;date&quot; : ISODate(&quot;2013-03-14T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 12
		},
		{
			&quot;date&quot; : ISODate(&quot;2012-09-13T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 10
		},
		{
			&quot;date&quot; : ISODate(&quot;2012-03-15T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 9
		},
		{
			&quot;date&quot; : ISODate(&quot;2011-03-29T00:00:00Z&quot;),
			&quot;grade&quot; : &quot;A&quot;,
			&quot;score&quot; : 13
		}
	],
	&quot;name&quot; : &quot;The Pizza Place&quot;,
	&quot;restaurant_id&quot; : &quot;40388253&quot;
}
Type &quot;it&quot; for more
</pre></div>
</div>
</div>
</div>
<p>où <code class="docutils literal notranslate"><span class="pre">address</span></code> est le sous-document et <code class="docutils literal notranslate"><span class="pre">zipcode</span></code> la clé de ce dernier. Dans cet exemple, nous nous intéressons aux restaurants pour lesquels le zipcode est <code class="docutils literal notranslate"><span class="pre">&quot;10462&quot;</span></code>.</p>
</div>
<div class="section" id="projection-des-donnees">
<h3><span class="section-number">1.2.3. </span>Projection des données<a class="headerlink" href="#projection-des-donnees" title="Permalink to this headline">¶</a></h3>
<p>Les résultats obtenus jusqu’à présent sont parfois assez indigestes, notamment parce que toutes les clés sont retournées pour tous les documents. Il est possible de limiter cela en spécifiant les clés à retourner comme second argument de la fonction <code class="docutils literal notranslate"><span class="pre">find()</span></code>. On appelle cela une <strong>projection</strong>.</p>
<p>La projection permet de sélectionner les informations à renvoyer. Si, par exemple, je m’intéresse uniquement aux noms des boulangeries du Bronx, je vais limiter les informations retournées en précisant, comme deuxième argument de ma requête <code class="docutils literal notranslate"><span class="pre">find</span></code>, la clé <code class="docutils literal notranslate"><span class="pre">name</span></code> avec la valeur <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
<div class="tabbed-set docutils">
<input checked="checked" id="20e11c13-a703-41d7-a24e-e62a23a18434" name="51f8bf4b-5135-475c-a845-e61d33b5f02a" type="radio">
</input><label class="tabbed-label" for="20e11c13-a703-41d7-a24e-e62a23a18434">
Projection en MongoDB</label><div class="tabbed-content docutils">
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">NYfood</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="s2">&quot;cuisine&quot;</span><span class="o">:</span> <span class="s2">&quot;Bakery&quot;</span><span class="p">,</span> <span class="s2">&quot;borough&quot;</span><span class="o">:</span> <span class="s2">&quot;Bronx&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">})</span>
</pre></div>
</div>
</div>
<input id="7eb7e46d-7de5-4b69-83c9-32c18d726641" name="51f8bf4b-5135-475c-a845-e61d33b5f02a" type="radio">
</input><label class="tabbed-label" for="7eb7e46d-7de5-4b69-83c9-32c18d726641">
Projection en SQL</label><div class="tabbed-content docutils">
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">name</span><span class="w"></span>
<span class="k">FROM</span><span class="w"> </span><span class="n">NYfood</span><span class="w"></span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">cuisine</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Bakery&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="s1">&#39;borough&#39;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Bronx&#39;</span><span class="w"></span>
</pre></div>
</div>
</div>
</div>
<p>C’est donc l’équivalent du <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">name</span></code> en SQL. Jusqu’ici, on utilisait le <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">*</span></code> <em>(pour all)</em> c’est-à-dire qu’on récupérait toutes les valeurs de chaque clé ou de chaque attribut.</p>
<div class="tip admonition">
<p class="admonition-title">Embellissez vos résultats ! </p>
<p>Lorsque vous effectuez vos requêtes depuis un client MongoDB en ligne de commande, les résultats de la fonction <code class="docutils literal notranslate"><span class="pre">find()</span></code> peuvent apparaître désorganisés. MongoDB fournit <code class="docutils literal notranslate"><span class="pre">pretty()</span></code> qui affiche les résultats sous une forme plus lisible. La syntaxe est la suivante : <code class="docutils literal notranslate"><span class="pre">db.collectionName.find().pretty()</span></code> 😉</p>
</div>
<p>Pour plus de renseignements sur la fonction <code class="docutils literal notranslate"><span class="pre">find()</span></code>, consultez la documentation MongoDB <a class="reference external" href="https://docs.mongodb.com/manual/reference/method/db.collection.find/">disponible ici</a>.</p>
</div>
</div>
<div class="section" id="requetes-plus-complexes-en-utilisant-des-operateurs">
<span id="operateurs"></span><h2><span class="section-number">1.3. </span>Requêtes plus complexes en utilisant des opérateurs<a class="headerlink" href="#requetes-plus-complexes-en-utilisant-des-operateurs" title="Permalink to this headline">¶</a></h2>
<p>Nous verrons dans cette section deux types d’opérateurs : les <a class="reference external" href="#comparaison">opérateurs de comparaison</a> et les <a class="reference external" href="#logiques">opérateurs logiques</a>.</p>
<div class="admonition-remarque admonition">
<p class="admonition-title">Remarque</p>
<p>La syntaxe des requêtes avec des opérateurs de comparaison est la suivante : <code class="docutils literal notranslate"><span class="pre">db.nomDeLaCollection.find({&quot;x&quot;:</span> <span class="pre">{operateur:</span> <span class="pre">valeur}})</span></code>.</p>
</div>
<div class="section" id="operateurs-de-comparaison">
<span id="comparaison"></span><h3><span class="section-number">1.3.1. </span>Opérateurs de comparaison<a class="headerlink" href="#operateurs-de-comparaison" title="Permalink to this headline">¶</a></h3>
<p>L’opérateur de comparaison permet de comparer deux élements entre eux. Le tableau suivant regroupe l’ensemble des opérateurs de comparaison :</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Opérateur logique</p></th>
<th class="head"><p>Mot clé en MongoDB</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>=</p></td>
<td><p>$eq</p></td>
</tr>
<tr class="row-odd"><td><p>≠</p></td>
<td><p>$ne</p></td>
</tr>
<tr class="row-even"><td><p>&lt;</p></td>
<td><p>$lt</p></td>
</tr>
<tr class="row-odd"><td><p>&gt;</p></td>
<td><p>$gt</p></td>
</tr>
<tr class="row-even"><td><p>≤</p></td>
<td><p>$lte</p></td>
</tr>
<tr class="row-odd"><td><p>≥</p></td>
<td><p>$gte</p></td>
</tr>
<tr class="row-even"><td><p>∈</p></td>
<td><p>$in</p></td>
</tr>
<tr class="row-odd"><td><p>∉</p></td>
<td><p>$nin</p></td>
</tr>
<tr class="row-even"><td><p>clé existante</p></td>
<td><p>$exists</p></td>
</tr>
<tr class="row-odd"><td><p>|.|</p></td>
<td><p>$size</p></td>
</tr>
</tbody>
</table>
<p>Les opérateurs <code class="docutils literal notranslate"><span class="pre">$eq</span></code>, <code class="docutils literal notranslate"><span class="pre">$ne</span></code>, <code class="docutils literal notranslate"><span class="pre">$lt</span></code>, <code class="docutils literal notranslate"><span class="pre">$gt</span></code>, <code class="docutils literal notranslate"><span class="pre">$lte</span></code>, <code class="docutils literal notranslate"><span class="pre">$gte</span></code> s’utilisent de la même façon en MongoDB. Ces opérateurs comparent la valeur d’une variable à une valeur fixe (nombre, booléen, chaine de caractères…), comme dans l’exemple suivant :</p>
<div class="sphinx-bs container pb-4 docutils">
<div class="row docutils">
<div class="d-flex col-lg-6 col-md-6 col-sm-6 col-xs-12 p-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header docutils">
<p class="card-text">MongoDB</p>
</div>
<div class="card-body docutils">
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">notes</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="s2">&quot;notes&quot;</span><span class="o">:</span> <span class="p">{</span><span class="nx">$gte</span><span class="o">:</span> <span class="mf">13</span><span class="p">}})</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="d-flex col-lg-6 col-md-6 col-sm-6 col-xs-12 p-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header docutils">
<p class="card-text">SQL</p>
</div>
<div class="card-body docutils">
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"></span>
<span class="k">FROM</span><span class="w"> </span><span class="n">notes</span><span class="w"></span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">notes</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">13</span><span class="w"> </span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<p>Cet exemple retourne la liste des étudiants ayant au moins une note supérieure ou égale à 13.</p>
<p>Les opérateurs <code class="docutils literal notranslate"><span class="pre">$in</span></code> et <code class="docutils literal notranslate"><span class="pre">$nin</span></code> s’utilisent de la même façon en MongoDB (<code class="docutils literal notranslate"><span class="pre">$nin</span></code> étant la négation de <code class="docutils literal notranslate"><span class="pre">$in</span></code>).
Ces opérateurs testent l’existence de la valeur d’une variable dans une liste.
La façon de l’utiliser en MongoDB est la suivante :</p>
<div class="sphinx-bs container pb-4 docutils">
<div class="row docutils">
<div class="d-flex col-lg-6 col-md-6 col-sm-6 col-xs-12 p-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header docutils">
<p class="card-text">MongoDB</p>
</div>
<div class="card-body docutils">
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">t</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span>
    <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$in</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;chaine1&quot;</span><span class="p">,</span> <span class="s2">&quot;chaine2&quot;</span><span class="p">]</span> <span class="p">}</span>
    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="d-flex col-lg-6 col-md-6 col-sm-6 col-xs-12 p-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header docutils">
<p class="card-text">SQL</p>
</div>
<div class="card-body docutils">
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"></span>
<span class="k">FROM</span><span class="w"> </span><span class="n">t</span><span class="w"></span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;chaine1&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;chaine2&quot;</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<p>L’opérateur <code class="docutils literal notranslate"><span class="pre">$exists</span></code> vérifie l’existence d’une clé dans un document. Sa syntaxe en MongoDB est :</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">t</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span>
    <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$exists</span><span class="o">:</span> <span class="kc">true</span><span class="p">}</span>
    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Cette requête renvera donc les documents ayant une clé <code class="docutils literal notranslate"><span class="pre">a</span></code>.</p>
<p>Enfin, l’opérateur <code class="docutils literal notranslate"><span class="pre">$size</span></code> permet de récuperer les documents pour lesquels l’attribut considéré est une liste d’une certaine taille.
Sa syntaxe en MongoDB est la suivante :</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">t</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span>
    <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$size</span><span class="o">:</span> <span class="mf">5</span><span class="p">}</span>
    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Le résultat obtenu est l’ensemble des documents pour lesquels la liste associée à la clé <code class="docutils literal notranslate"><span class="pre">a</span></code> est de taille 5.</p>
</div>
<div class="section" id="operateurs-logiques">
<span id="logiques"></span><h3><span class="section-number">1.3.2. </span>Opérateurs logiques<a class="headerlink" href="#operateurs-logiques" title="Permalink to this headline">¶</a></h3>
<p>Les différents opérateurs logiques en MongoDB sont : <code class="docutils literal notranslate"><span class="pre">$or</span></code>, <code class="docutils literal notranslate"><span class="pre">$not</span></code> et <code class="docutils literal notranslate"><span class="pre">$nor</span></code>.
Ces opérateurs permettent de tester plusieurs conditions simultanément.</p>
<div class="section" id="et-logique">
<h4><span class="section-number">1.3.2.1. </span>ET logique<a class="headerlink" href="#et-logique" title="Permalink to this headline">¶</a></h4>
<p>Comme indiqué plus haut, pour faire une requête avec un ET logique en MongoDB, il suffit de séparer par une virgule les conditions.
L’exemple ci-dessous nous montre l’équivalence entre MongoDB et le langage SQL :</p>
<div class="sphinx-bs container pb-4 docutils">
<div class="row docutils">
<div class="d-flex col-lg-6 col-md-6 col-sm-6 col-xs-12 p-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header docutils">
<p class="card-text">MongoDB</p>
</div>
<div class="card-body docutils">
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">t</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span>
    <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="o">:</span> <span class="mf">1</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="o">:</span> <span class="mf">5</span><span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="d-flex col-lg-6 col-md-6 col-sm-6 col-xs-12 p-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header docutils">
<p class="card-text">SQL</p>
</div>
<div class="card-body docutils">
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"></span>
<span class="k">FROM</span><span class="w"> </span><span class="n">t</span><span class="w"></span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="w"></span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<p>Le résultat de la requête sera les documents validant les deux conditions suivantes : <code class="docutils literal notranslate"><span class="pre">a=1</span></code> et <code class="docutils literal notranslate"><span class="pre">b=5</span></code>.</p>
</div>
<div class="section" id="ou-logique">
<h4><span class="section-number">1.3.2.2. </span>OU logique<a class="headerlink" href="#ou-logique" title="Permalink to this headline">¶</a></h4>
<p>L’opérateur <code class="docutils literal notranslate"><span class="pre">$or</span></code> permet de renvoyer les documents qui remplissent au moins un des conditions de la requête.
Le OU logique se construit de la manière suivane : <code class="docutils literal notranslate"><span class="pre">$or</span> <span class="pre">:</span> <span class="pre">[{condition</span> <span class="pre">1},</span> <span class="pre">...</span> <span class="pre">,</span> <span class="pre">{condition</span> <span class="pre">i}]</span></code>. Voici un exemple faisant le parallèle entre le langage MongoDB et le langage SQL :</p>
<div class="sphinx-bs container pb-4 docutils">
<div class="row docutils">
<div class="d-flex col-lg-6 col-md-6 col-sm-6 col-xs-12 p-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header docutils">
<p class="card-text">MongoDB</p>
</div>
<div class="card-body docutils">
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">t</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span>
    <span class="p">{</span><span class="nx">$or</span> <span class="o">:</span> 
      <span class="p">[</span>
        <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="o">:</span> <span class="mf">1</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;b&quot;</span><span class="o">:</span> <span class="mf">5</span><span class="p">}</span>
      <span class="p">]</span>
    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="d-flex col-lg-6 col-md-6 col-sm-6 col-xs-12 p-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header docutils">
<p class="card-text">SQL</p>
</div>
<div class="card-body docutils">
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"></span>
<span class="k">FROM</span><span class="w"> </span><span class="n">t</span><span class="w"></span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="w"></span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<p>Le résultat de la requête sera les documents validant au moins un des deux conditions suivantes : <code class="docutils literal notranslate"><span class="pre">a=1</span></code> ou <code class="docutils literal notranslate"><span class="pre">b=5</span></code>.</p>
</div>
<div class="section" id="non-ou-logique">
<h4><span class="section-number">1.3.2.3. </span>NON OU logique<a class="headerlink" href="#non-ou-logique" title="Permalink to this headline">¶</a></h4>
<p>L’opérateur <code class="docutils literal notranslate"><span class="pre">$nor</span></code> permet de renvoyer les documents ne validant aucune des conditions d’une liste de conditions. Voici sa syntaxe qui est très semblable à celle de <code class="docutils literal notranslate"><span class="pre">$or</span></code> :</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">t</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span>
    <span class="p">{</span><span class="nx">$nor</span> <span class="o">:</span> 
      <span class="p">[</span>
        <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="o">:</span> <span class="mf">1</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;b&quot;</span><span class="o">:</span> <span class="s2">&quot;blue&quot;</span><span class="p">}</span>
      <span class="p">]</span>
    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Le résultat de cette requête sera l’ensemble des documents ne contenant pas la valeur 1 pour l’attribut <code class="docutils literal notranslate"><span class="pre">a</span></code> ni la valeur <code class="docutils literal notranslate"><span class="pre">&quot;blue&quot;</span></code> pour l’attribut <code class="docutils literal notranslate"><span class="pre">b</span></code>.</p>
</div>
<div class="section" id="non-logique">
<h4><span class="section-number">1.3.2.4. </span>NON logique<a class="headerlink" href="#non-logique" title="Permalink to this headline">¶</a></h4>
<p>Le <code class="docutils literal notranslate"><span class="pre">$not</span></code> renvoie les documents qui ne remplissent pas la condition qu’il contient.
Reprenons l’exemple précédent :</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">t</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span>
    <span class="p">{</span><span class="nx">$not</span> <span class="o">:</span> 
      <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="o">:</span> <span class="mf">1</span><span class="p">}</span>
    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Cette requête retournera donc l’ensemble des documents pour lesquels la clé <code class="docutils literal notranslate"><span class="pre">&quot;a&quot;</span></code> n’est pas associée à la valeur <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<p>Pour plus de renseignements sur les opérateurs, consultez la documentation MongoDB <a class="reference external" href="https://docs.mongodb.com/manual/reference/operator/query/">disponible à cette adresse</a>.</p>
</div>
</div>
</div>
<div class="section" id="methodes-utiles-pour-des-requetes-en-mongodb">
<span id="methodes"></span><h2><span class="section-number">1.4. </span>Méthodes utiles pour des requêtes en MongoDB<a class="headerlink" href="#methodes-utiles-pour-des-requetes-en-mongodb" title="Permalink to this headline">¶</a></h2>
<div class="section" id="connaitre-la-liste-des-collections-dans-une-base-de-donnees">
<h3><span class="section-number">1.4.1. </span>Connaître la liste des collections dans une base de données<a class="headerlink" href="#connaitre-la-liste-des-collections-dans-une-base-de-donnees" title="Permalink to this headline">¶</a></h3>
<p>Pour connaître la <strong>liste des collections</strong> contenues dans une base de données, on utilise la commande suivante sur la base de données considérée :</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">getCollectionInfos</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="valeurs-distinctes-d-un-champ-la-methode-distinct">
<h3><span class="section-number">1.4.2. </span>Valeurs distinctes d’un champ : la méthode <code class="docutils literal notranslate"><span class="pre">distinct</span></code><a class="headerlink" href="#valeurs-distinctes-d-un-champ-la-methode-distinct" title="Permalink to this headline">¶</a></h3>
<p>La méthode <code class="docutils literal notranslate"><span class="pre">distinct</span></code> permet de renvoyer <strong>toutes les valeurs distinctes du champ spécifié</strong>. C’est l’équivalent du <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">DISTINCT</span></code> en SQL.
Par exemple, la requête suivante en MongoDB permet d’afficher la liste des notes attribuées à des restaurants du quartier <code class="docutils literal notranslate"><span class="pre">&quot;Manhattan&quot;</span></code> pour la collection <code class="docutils literal notranslate"><span class="pre">NYfood</span></code>.</p>
<div class="sphinx-bs container pb-4 docutils">
<div class="row docutils">
<div class="d-flex col-lg-6 col-md-6 col-sm-6 col-xs-12 p-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header docutils">
<p class="card-text">Syntaxe et exemple en MongoDB</p>
</div>
<div class="card-body docutils">
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">collectionName</span><span class="p">.</span><span class="nx">distinct</span><span class="p">(</span><span class="nx">champ</span><span class="p">,</span> <span class="p">{...})</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">NYfood</span><span class="p">.</span><span class="nx">distinct</span><span class="p">(</span>
    <span class="s2">&quot;grades.grade&quot;</span><span class="p">,</span> 
    <span class="p">{</span><span class="s2">&quot;borough&quot;</span><span class="o">:</span> <span class="s2">&quot;Manhattan&quot;</span><span class="p">}</span> <span class="c1">// Ici, une condition</span>
<span class="p">)</span> 
</pre></div>
</div>
</div>
</div>
</div>
<div class="d-flex col-lg-6 col-md-6 col-sm-6 col-xs-12 p-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header docutils">
<p class="card-text">Équivalent de la syntaxe en SQL</p>
</div>
<div class="card-body docutils">
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="p">(</span><span class="n">champ</span><span class="p">)</span><span class="w"></span>
<span class="k">FROM</span><span class="w"> </span><span class="n">collectionName</span><span class="w"></span>
<span class="k">WHERE</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="c1">-- Ici, une condition</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="compter-le-nombre-d-elements-la-methode-count">
<h3><span class="section-number">1.4.3. </span>Compter le nombre d’éléments : la méthode <code class="docutils literal notranslate"><span class="pre">count</span></code><a class="headerlink" href="#compter-le-nombre-d-elements-la-methode-count" title="Permalink to this headline">¶</a></h3>
<p>La méthode <code class="docutils literal notranslate"><span class="pre">count</span></code> permet de <strong>compter le nombre de documents dans une collection</strong>. On peut l’utiliser directement sur la collection de base pour connaître le nombre de documents dans la collection ou bien l’utiliser après avoir exécuté une requête :</p>
<div class="tabbed-set docutils">
<input checked="checked" id="87b05097-fb4a-4109-b0e8-ab5cf63c4ec2" name="a483550a-2a8c-40c1-8ef5-b50b10fd2b2b" type="radio">
</input><label class="tabbed-label" for="87b05097-fb4a-4109-b0e8-ab5cf63c4ec2">
Sur une collection sans requête</label><div class="tabbed-content docutils">
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">NYfood</span><span class="p">.</span><span class="nx">count</span><span class="p">()</span>
</pre></div>
</div>
</div>
<input id="7845eb3c-d9ef-4bbd-a7b9-b537527d2174" name="a483550a-2a8c-40c1-8ef5-b50b10fd2b2b" type="radio">
</input><label class="tabbed-label" for="7845eb3c-d9ef-4bbd-a7b9-b537527d2174">
Sur une collection après requête</label><div class="tabbed-content docutils">
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">NYfood</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="s2">&quot;cuisine&quot;</span><span class="o">:</span> <span class="s2">&quot;Bakery&quot;</span><span class="p">}).</span><span class="nx">count</span><span class="p">()</span>
</pre></div>
</div>
</div>
<input id="a0cfac58-9959-433e-b131-d4466f0ac574" name="a483550a-2a8c-40c1-8ef5-b50b10fd2b2b" type="radio">
</input><label class="tabbed-label" for="a0cfac58-9959-433e-b131-d4466f0ac574">
Syntaxe alternative</label><div class="tabbed-content docutils">
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">NYfood</span><span class="p">.</span><span class="nx">count</span><span class="p">({</span><span class="s2">&quot;cuisine&quot;</span><span class="o">:</span> <span class="s2">&quot;Bakery&quot;</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="trier-les-documents-resultat-la-methode-sort">
<h3><span class="section-number">1.4.4. </span>Trier les documents résultat : la méthode <code class="docutils literal notranslate"><span class="pre">sort</span></code><a class="headerlink" href="#trier-les-documents-resultat-la-methode-sort" title="Permalink to this headline">¶</a></h3>
<p>La méthode <code class="docutils literal notranslate"><span class="pre">sort</span></code> sert à <strong>trier les documents de sortie</strong> à partir d’une ou plusieurs clés. Pour choisir l’ordre de tri, il suffit de spécifier la valeur <code class="docutils literal notranslate"><span class="pre">1</span></code> pour trier dans l’ordre croissant et <code class="docutils literal notranslate"><span class="pre">-1</span></code> pour trier dans l’ordre décroissant.</p>
<p>Par exemple, pour trier les documents de sortie en fonction de la clé <code class="docutils literal notranslate"><span class="pre">key1</span></code> de façon croissante on utilisera la syntaxe suivante :</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">collectionName</span><span class="p">.</span><span class="nx">find</span><span class="p">({}).</span><span class="nx">sort</span><span class="p">(</span>
  <span class="p">{</span><span class="s2">&quot;key1&quot;</span> <span class="o">:</span> <span class="mf">1</span><span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Il est également possible de faire un <strong>tri sur plusieurs clés</strong> :</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">collectionName</span><span class="p">.</span><span class="nx">find</span><span class="p">({}).</span><span class="nx">sort</span><span class="p">(</span>
  <span class="p">{</span><span class="s2">&quot;key1&quot;</span> <span class="o">:</span> <span class="mf">1</span><span class="p">,</span> <span class="s2">&quot;key2&quot;</span> <span class="o">:</span> <span class="o">-</span><span class="mf">1</span><span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Ici, on fera un tri croissant sur la clé <code class="docutils literal notranslate"><span class="pre">key1</span></code> et, en cas d’égalité, les résultats seront triés par valeur de <code class="docutils literal notranslate"><span class="pre">key2</span></code> décroissante.</p>
</div>
<div class="section" id="limiter-le-nombre-de-documents-retournes-la-methode-limit">
<h3><span class="section-number">1.4.5. </span>Limiter le nombre de documents retournés : la méthode <code class="docutils literal notranslate"><span class="pre">limit</span></code><a class="headerlink" href="#limiter-le-nombre-de-documents-retournes-la-methode-limit" title="Permalink to this headline">¶</a></h3>
<p>La méthode <code class="docutils literal notranslate"><span class="pre">limit</span></code> permet de <strong>limiter le nombre de documents renvoyés</strong>. Elle accepte les arguments numériques. Voici la syntaxe :</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">collectionName</span><span class="p">.</span><span class="nx">find</span><span class="p">({...}).</span><span class="nx">limit</span><span class="p">(</span><span class="mf">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="pour-conclure-ce-chapitre">
<span id="resume"></span><h2><span class="section-number">1.5. </span>Pour conclure ce chapitre<a class="headerlink" href="#pour-conclure-ce-chapitre" title="Permalink to this headline">¶</a></h2>
<div class="section" id="fiche-resume-pour-bien-demarrer-en-mongodb">
<h3><span class="section-number">1.5.1. </span>Fiche résumé pour bien démarrer en MongoDB<a class="headerlink" href="#fiche-resume-pour-bien-demarrer-en-mongodb" title="Permalink to this headline">¶</a></h3>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Objectif</p></th>
<th class="head"><p>Syntaxe</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Récupérer toutes les occurrences de la collection</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">db.collectionName.find({})</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Récupérer la première occurrence de la collection</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">db.collectionName.findOne({})</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Filtrer les données</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">db.collectionName.find({&quot;x&quot;:</span> <span class="pre">valeur})</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Limiter l’affichage des clés</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">db.collectionName.find({},</span> <span class="pre">{&quot;key&quot;:</span> <span class="pre">true})</span> </code></p></td>
</tr>
<tr class="row-even"><td><p>Formater les documents de sortie</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">db.collectionName.find({}).pretty()</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Requêtes avec des opérateurs de comparaison</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">db.collectionName.find({&quot;x&quot;:</span> <span class="pre">{operateur:</span> <span class="pre">valeur}})</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Trier les documents de sortie</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">db.collectionName.find().sort({&quot;key&quot;</span> <span class="pre">:</span> <span class="pre">1})</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Compter les documents de sortie</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">db.collectionName.find({}).count()</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Limiter les documents de sortie</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">db.collectionName.find({}).limit(2)</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Valeurs distinctes d’un champ</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">db.collectionName.distinct(champ,</span> <span class="pre">{})</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="quiz-premieres-requetes-en-mongodb-a-vous-de-jouer">
<span id="quiz"></span><h3><span class="section-number">1.5.2. </span>Quiz “Premières requêtes en MongoDB” : À vous de jouer !<a class="headerlink" href="#quiz-premieres-requetes-en-mongodb-a-vous-de-jouer" title="Permalink to this headline">¶</a></h3>
<p>Pour vous tester et être certain que vous avez bien compris, répondez aux questions du quiz ci-dessous.</p>
<p><strong>Qu’est-ce qui caractérise MongoDB ?</strong></p>
<ol class="simple">
<li><p>C’est un modèle orienté graphique</p></li>
<li><p>C’est un modèle orienté document</p></li>
<li><p>C’est un modèle structuré</p></li>
</ol>
<div class="dropdown admonition">
<p class="admonition-title">Cliquez pour montrer la réponse</p>
<p><em>Réponse 2 : C’est un modèle orienté document.</em></p>
</div>
<p><strong>Que nous renvoie cette requête sur la collection <code class="docutils literal notranslate"><span class="pre">notes</span></code> de la base <code class="docutils literal notranslate"><span class="pre">etudiants</span></code> ?</strong></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">notes</span><span class="p">.</span><span class="nx">find</span><span class="p">({},</span> <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">})</span> 
</pre></div>
</div>
<ol class="simple">
<li><p>Affiche <strong>tout</strong> le contenu de la collection <code class="docutils literal notranslate"><span class="pre">notes</span></code></p></li>
<li><p>Les noms des étudiants de la base et la clé <code class="docutils literal notranslate"><span class="pre">_id</span></code> qui identifie chaque étudiant</p></li>
<li><p>Tous les noms des étudiants de la base, mais pas les autres clés</p></li>
</ol>
<div class="dropdown admonition">
<p class="admonition-title">Cliquez pour montrer la réponse</p>
<p><em>Réponse 3 : L’argument <code class="docutils literal notranslate"><span class="pre">&quot;_id&quot;:</span> <span class="pre">false</span></code> permet de retirer l’affichage de la clé <code class="docutils literal notranslate"><span class="pre">id</span></code>. On ne récupère que le noms des étudiants de la base.</em></p>
</div>
<p><strong>Comment récupérer la liste des étudiants ayant obtenu exactement deux notes ?</strong></p>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">db.notes.find({&quot;notes&quot;:</span> <span class="pre">{$size:</span> <span class="pre">2}})</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">db.notes.find({&quot;notes&quot;:</span> <span class="pre">{$exists:</span> <span class="pre">true}})</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">db.notes.find({$or:</span> <span class="pre">[{&quot;notes&quot;:</span> <span class="pre">{$size:</span> <span class="pre">1}},{&quot;notes&quot;:</span> <span class="pre">{$size:</span> <span class="pre">2}}]})</span></code></p></li>
</ol>
<div class="dropdown admonition">
<p class="admonition-title">Cliquez pour montrer la réponse</p>
<p><em>Réponse 1 : L’opérateur <code class="docutils literal notranslate"><span class="pre">$size</span></code> permet de prendre en compte la taille de la liste de valeurs, telle qu’une liste de notes. Ici on souhaite que la liste de notes soit précisement de taille 2.</em></p>
</div>
<p><strong>Quel opérateur permet de ne renvoyer que les documents qui ne vérifient aucune condition de la liste ?</strong></p>
<ol class="simple">
<li><p>L’opérateur <code class="docutils literal notranslate"><span class="pre">$eq</span></code></p></li>
<li><p>L’opérateur <code class="docutils literal notranslate"><span class="pre">$nor</span></code></p></li>
<li><p>L’opérateur <code class="docutils literal notranslate"><span class="pre">$gt</span></code></p></li>
</ol>
<div class="dropdown admonition">
<p class="admonition-title">Cliquez pour montrer la réponse</p>
<p><em>Réponse 2 : L’opérateur <code class="docutils literal notranslate"><span class="pre">$nor</span></code> permet de ne renvoyer que les documents qui ne vérifient aucune condition de la liste.</em></p>
</div>
<p><strong>Quelle méthode ci-dessous ne fait pas partie du langage MongoDB ?</strong></p>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">db.collectionName.find({}).orderby({&quot;key&quot;</span> <span class="pre">:</span> <span class="pre">1})</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">db.collectionName.find({}).sort({&quot;key&quot;</span> <span class="pre">:</span> <span class="pre">1})</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">db.collectionName.find({}).limit(3)</span></code></p></li>
</ol>
<div class="dropdown admonition">
<p class="admonition-title">Cliquez pour montrer la réponse</p>
<p><em>Réponse 1 : Bien que <code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code> soit une instruction en SQL, ce n’est pas disponible pour les bases de données en MongoDB.</em></p>
</div>
<p>Afin que le langage MongoDB n’ait plus aucun secret pour vous, nous vous invitons à lire les chapitres suivants et à consulter la <a class="reference external" href="https://docs.mongodb.com">documentation MongoDB</a> !</p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "imongo"
        },
        kernelOptions: {
            kernelName: "imongo",
            path: "./content"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'imongo'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="00_intro.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">MongoDB : Notes de cours</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="02_listes.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">2. </span>Attributs de type liste</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Ouvrage collectif<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>