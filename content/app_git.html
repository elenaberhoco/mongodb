
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Annexe B : Utilisation de git &#8212; MongoDB : notes de cours</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.acff12b8f9c144ce68a297486a2fa670.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Annexe A : Exemple de fichier source" href="app_exemple.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      <h1 class="site-logo" id="site-title">MongoDB : notes de cours</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="00_intro.html">
   MongoDB : Notes de cours
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Chapitres
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="01_find.html">
   1. Premières requêtes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02_listes.html">
   2. Attributs de type liste
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="03_dates.html">
   3. Attributs de type date
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="04_index.html">
   4. Les index
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_agreg.html">
   5. Les requêtes d’agrégation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06_modif.html">
   6. Les requêtes de modification
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="07_scripts.html">
   7. Effectuer des requêtes depuis des programmes Python ou R
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="07_scripts_py.html">
     7.1. Requêtes depuis Python :
     <code class="docutils literal notranslate">
      <span class="pre">
       pymongo
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="07_scripts_R.html">
     7.2. Requêtes depuis R :
     <code class="docutils literal notranslate">
      <span class="pre">
       mongolite
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Annexes
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="app_exemple.html">
   Annexe A : Exemple de fichier source
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Annexe B : Utilisation de
   <code class="docutils literal notranslate">
    <span class="pre">
     git
    </span>
   </code>
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/content/app_git.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/rtavenar/mongo_book"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/rtavenar/mongo_book/issues/new?title=Issue%20on%20page%20%2Fcontent/app_git.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#le-principe-des-gestionnaires-de-version">
   Le principe des gestionnaires de version
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#les-branches">
     Les branches
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#le-logiciel-git">
   Le logiciel
   <code class="docutils literal notranslate">
    <span class="pre">
     git
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#la-gestion-des-conflits">
     La gestion des conflits
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#le-service-web-github">
   Le service web GitHub
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#le-client-github-desktop">
   Le client GitHub Desktop
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-vous-de-jouer">
   À vous de jouer
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="annexe-b-utilisation-de-git">
<span id="sec-git"></span><h1>Annexe B : Utilisation de <code class="docutils literal notranslate"><span class="pre">git</span></code><a class="headerlink" href="#annexe-b-utilisation-de-git" title="Permalink to this headline">¶</a></h1>
<p>Pour rédiger collectivement ces notes de cours, vous allez utiliser un
gestionnaire de versions appelé <code class="docutils literal notranslate"><span class="pre">git</span></code>.
Cette annexe présente les bases du fonctionnement de <code class="docutils literal notranslate"><span class="pre">git</span></code> dans le but de vous
permettre de contribuer à la rédaction de ce document.</p>
<div class="section" id="le-principe-des-gestionnaires-de-version">
<h2>Le principe des gestionnaires de version<a class="headerlink" href="#le-principe-des-gestionnaires-de-version" title="Permalink to this headline">¶</a></h2>
<p>La gestion de versions est un procédé qui permet de conserver toutes les
versions (ou “révisions”) d’un ensemble de fichiers.
Chaque modification ou ensemble de modifications sur un fichier crée une
nouvelle version de ce fichier.
Cela s’avère particulièrement utile dans le cadre de fichiers édités de manière
collaborative : chaque utilisateur peut amener des modifications et créer
de nouvelles versions et, au besoin, on peut revenir en arrière à une
version précédente.</p>
<p>Contrairement à des systèmes d’édition collaborative synchrone
(type Google Docs), l’idée des gestionnaires de version dont on parlera ici
est que chacun puisse travailler sur sa version
de son côté (sans forcément être connecté à internet).
Lorsque plusieurs utilisateurs modifient la même partie d’un fichier,
cela peut mener à ce que l’on appelle des <strong>conflits de versions</strong> :
nous verrons <a class="reference internal" href="#sec-conflits"><span class="std std-ref">plus bas</span></a> comment gérer ces conflits.</p>
<p>Les systèmes de gestion de version sont très utilisés dans le cadre de projets
logiciels pour maintenir les fichiers de code source, mais peuvent être utilisés
plus largement (comme dans le cas de ces notes de cours rédigées
collectivement).</p>
<div class="section" id="les-branches">
<h3>Les branches<a class="headerlink" href="#les-branches" title="Permalink to this headline">¶</a></h3>
<p>Un aspect important de ces systèmes est la notion de <strong>branche</strong>.
Pour comprendre cette notion, prenons un exemple :</p>
<div class="admonition-exemple-de-branches admonition">
<p class="admonition-title">Exemple de branches</p>
<p>Supposons que Mme X travaille sur un document en utilisant une gestionnaire
de version.
Son document comporte les chapitres A, B et C.
Elle travaille, par défaut, sur la branche principale (que l’on appellera
<code class="docutils literal notranslate"><span class="pre">main</span></code>, pour “principale”, ici).
Puis, à un certain point, elle se dit qu’elle essaierait bien de voir ce que
donnerait la ré-organisation de son document en chapitres ordonnés B, C puis A.
Bien sûr, cela va demander un certain nombre de changements dans le document,
et comme elle n’est pas sûre du résultat, elle va créer une nouvelle branche
auquel elle donnera un nom (par exemple <code class="docutils literal notranslate"><span class="pre">reordonnancement_chapitres</span></code>) pour
implémenter ces modifications.</p>
<p>Une fois ces modifications mises en oeuvre, deux solutions :</p>
<ul class="simple">
<li><p>soit Mme X n’est pas satisfaite de la nouvelle organisation, et elle décide
finalement de conserver l’organisation initiale qui est toujours disponible sur
la branche <code class="docutils literal notranslate"><span class="pre">main</span></code> : il lui suffit alors de rebasculer sur cette branche <code class="docutils literal notranslate"><span class="pre">main</span></code>
et de continuer à travailler ;</p></li>
<li><p>soit Mme X trouve que cette nouvelle version est meilleure que l’originale
et va donc transférer les changements opérés vers la branche <code class="docutils literal notranslate"><span class="pre">main</span></code> : on dit
qu’elle <em>merge</em> la branche <code class="docutils literal notranslate"><span class="pre">reordonnancement_chapitres</span></code> dans la branche <code class="docutils literal notranslate"><span class="pre">main</span></code>.</p></li>
</ul>
</div>
<p>Cette notion de branches permet notamment d’avoir plusieurs collaborateurs d’un
même projet qui implémentent leurs modifications dans des branches séparées,
lesquelles ne seront intégrées au projet que si le résultat est satisfaisant.</p>
</div>
</div>
<div class="section" id="le-logiciel-git">
<h2>Le logiciel <code class="docutils literal notranslate"><span class="pre">git</span></code><a class="headerlink" href="#le-logiciel-git" title="Permalink to this headline">¶</a></h2>
<p>Pour l’édition collaborative de ce document, nous allons utiliser <code class="docutils literal notranslate"><span class="pre">git</span></code>,
qui est une référence en termes de logiciels de gestion de version.</p>
<p>Tout d’abord, un peu de vocabulaire.
Un <strong>dépôt</strong> est un “projet” <code class="docutils literal notranslate"><span class="pre">git</span></code> : il peut contenir plusieurs <strong>branches</strong>
qui, elles-mêmes, contiennent plusieurs versions d’un certain nombre de
fichiers.
On appelle <strong>commit</strong> un point d’enregistrement des modifications des fichiers
d’un dépôt.</p>
<div class="admonition-ligne-de-commande admonition">
<p class="admonition-title">Ligne de commande</p>
<p>Pour mieux comprendre ces concepts, nous introduisons dans la suite
des lignes de commande permettant
d’accéder à certaines fonctionnalités de base de <code class="docutils literal notranslate"><span class="pre">git</span></code>.
Sachez que ces commandes ont toutes des équivalents dans les interfaces
graphiques telles que GitHub Desktop (voir <a class="reference internal" href="#sec-gh-desktop"><span class="std std-ref">plus bas</span></a>), si vous
êtes plus à l’aise avec ces interfaces.</p>
</div>
<p>Lorsque l’on a modifié (=créé, modifié ou supprimé) un fichier et que l’on
veut que les changements effectués sur ce fichier soient ajoutés au prochain
<em>commit</em> que l’on va faire, on écrit :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git add &lt;NOM_DU_FICHIER_MODIFIE&gt;
</pre></div>
</div>
<p>Notez qu’il faudra ajouter les fichiers dont les modifications sont à prendre
en compte avant chaque commit.</p>
<p>Pour créer un <em>commit</em> à partir des fichiers précédemment ajoutés, on
utilise ensuite la commande :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git commit -m <span class="s2">&quot;Ajouté une présentation de git dans le document&quot;</span>
</pre></div>
</div>
<p>Cela va donc créer un nouveau point d’enregistrement sur <strong>la version locale</strong>
de notre dépôt.
On peut s’en rendre compte avec la commande suivante :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git log
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>commit 724ced693ff4823fe96721970c4a61f80472e122 (HEAD -&gt; main, origin/main)
Author: Romain Tavenard &lt;romain.tavenard@univ-rennes2.fr&gt;
Date:   Tue Feb 16 13:44:25 2021 +0100

    Ajouté une présentation de git dans le document
</pre></div>
</div>
<p>On voit dans la sortie ci-dessus plusieurs choses :</p>
<ol class="simple">
<li><p>le commit en question a un identifiant (<code class="docutils literal notranslate"><span class="pre">724ced693ff48...</span></code>),</p></li>
<li><p>ce commit correspond à la version courante (<code class="docutils literal notranslate"><span class="pre">HEAD</span></code>) de la branche courante
<code class="docutils literal notranslate"><span class="pre">main</span></code> du dépôt local,</p></li>
<li><p>cette branche courante du dépôt local est synchronisée avec la branche
<code class="docutils literal notranslate"><span class="pre">main</span></code> du dépôt distant qui est ici appelé <code class="docutils literal notranslate"><span class="pre">origin</span></code> (d’où le <code class="docutils literal notranslate"><span class="pre">origin/main</span></code>),</p></li>
<li><p>chaque commit a un auteur, une date et un texte associé.</p></li>
</ol>
<div class="tip admonition">
<p class="admonition-title">Quels fichiers dans un commit ?</p>
<p>Avant de déclencher un <em>commit</em>, il est préférable de s’assurer que toutes les
modifications que l’on souhaite enregistrer ont bien été ajoutées.
Cela peut se faire à l’aide de la commande :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git status
</pre></div>
</div>
<p>qui affiche l’état du projet de travail local (branche courante, fichiers sur
le point d’être commités, et plus encore).</p>
</div>
<p>On remarque de plus que <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code> ne nous informe que sur les commits
ayant été enregistrés sur la branche courante.
Pour aller voir au delà, on peut lister les branches existantes sur le dépôt :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git branch
</pre></div>
</div>
<p>qui donnera une sortie du type :</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ajout_intro
* main
truc_super_chouette_avec_un_nom_plus_malin_que_ca
</pre></div>
</div>
<p>Ici, on voit que l’on est en train de travailler sur la branche <code class="docutils literal notranslate"><span class="pre">main</span></code>
(c’est le sens du symbole <code class="docutils literal notranslate"><span class="pre">*</span></code>) et que deux autres branches co-existent.</p>
<p>Si l’on souhaite “basculer” sur la branche <code class="docutils literal notranslate"><span class="pre">ajout_intro</span></code>, on fera :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git checkout ajout_intro
</pre></div>
</div>
<div class="tip admonition">
<p class="admonition-title">Basculer sur une nouvelle branche</p>
<p>Si l’on souhaite créer une nouvelle branche pour commencer à travailler dessus,
on utilisera plutôt :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git checkout -b &lt;NOM_DE_LA_NOUVELLE_BRANCHE&gt;
</pre></div>
</div>
</div>
<p>À ce moment, tous les fichiers du répertoire se mettent à jour pour
correspondre au contenu tel qu’enregistré dans le dernier commit de la branche
<code class="docutils literal notranslate"><span class="pre">ajout_intro</span></code>.
Supposons que l’on ait fait un certain nombre de modifications
(<strong>enregistrées dans des commits !</strong>)
qui nous semblent satisfaisantes dans cette branche, on pourra vouloir la
<em>merger</em> (vive le franglais!) dans la branche principale avec :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git checkout main
git merge ajout_intro
</pre></div>
</div>
<p>La première de ces deux commandes demande de revenir sur la branche <code class="docutils literal notranslate"><span class="pre">main</span></code>
et la seconde demande d’y intégrer les changements issus de la branche
<code class="docutils literal notranslate"><span class="pre">ajout_intro</span></code>.</p>
<p>Toutes les commandes listées ci-dessus permettent de travailler avec des
versions locales des branches d’un dépôt.
Toutefois, lorsque l’on travaille de manière collaborative, on aura recours à
un dépôt distant avec lequel les différent(e)s contributeurs/trices du projet
se synchroniseront régulièrement.
Typiquement, dans notre cas, ce dépôt distant sera hébergé par GitHub (voir
<a class="reference internal" href="#sec-github"><span class="std std-ref">plus bas</span></a>).</p>
<p>La première étape sera donc de récupérer le code hébergé sur le dépôt distant
pour créer votre dépôt local :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone &lt;LIEN_VERS_LE_DEPOT_DISTANT&gt; &lt;NOM_DU_REPERTOIRE_A_CREER&gt;
</pre></div>
</div>
<p>où <code class="docutils literal notranslate"><span class="pre">&lt;LIEN_VERS_LE_DEPOT_DISTANT&gt;</span></code> est une URL se terminant par <code class="docutils literal notranslate"><span class="pre">.git</span></code>
(qui vous sera fournie par GitHub).</p>
<p>Lorsque l’on souhaite envoyer nos modifications locales (celles correspondant
au dernier commit enregistré sur la branche courante) vers le dépôt distant,
on exécutera :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git push origin &lt;NOM_DE_LA_BRANCHE_CIBLE_SUR_LE_DEPOT_DISTANT&gt;
</pre></div>
</div>
<p>Dans la commande ci-dessus, <code class="docutils literal notranslate"><span class="pre">origin</span></code> est un nom permettant d’identifier
le dépôt distant (il est courant de nommer ce dépôt <code class="docutils literal notranslate"><span class="pre">origin</span></code>) et le deuxième
argument de la commande <code class="docutils literal notranslate"><span class="pre">push</span></code> est le nom de la branche cible sur le dépôt
distant (ce sera le même
que le nom que vous utilisez en local, pour éviter de vous mélanger les
pinceaux).</p>
<p>De même, lorsque des modifications ont été apportées sur le dépôt distant
et que vous souhaitez les incoporer à votre dépôt local, vous utiliserez la
commande :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git pull origin &lt;NOM_DE_LA_BRANCHE_CIBLE_SUR_LE_DEPOT_DISTANT&gt;
</pre></div>
</div>
<div class="section" id="la-gestion-des-conflits">
<span id="sec-conflits"></span><h3>La gestion des conflits<a class="headerlink" href="#la-gestion-des-conflits" title="Permalink to this headline">¶</a></h3>
<p>Lorsque plusieurs personnes travaillent sur un même projet, il se peut qu’elles
modifient les mêmes fichiers. Tant qu’elles ne travaillent pas sur la même
partie du fichier, <code class="docutils literal notranslate"><span class="pre">git</span></code> sera capable de faire une synthèse de leurs
modifications automatiquement, lors des étapes de <code class="docutils literal notranslate"><span class="pre">merge</span></code> et de <code class="docutils literal notranslate"><span class="pre">pull</span></code>.</p>
<p>Si par contre ces personnes
modifient un même morceau d’un même fichier de deux manières différentes, qui ne
sont pas compatibles entre elles, on dit qu’il y a un conflit entre les
versions de ces deux personnes.
Il va falloir décider si l’on garde l’une des deux versions ou l’autre, ou bien
si l’on propose une synthèse de ces deux versions.
En <code class="docutils literal notranslate"><span class="pre">git</span></code>, les conflits sont indiqués comme suit dans les fichiers source
concernés :</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span>Ici, du texte commun aux versions des deux collaborateurs.

&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;optionA
Ici, le texte correspondant à la proposition de l&#39;un(e) des
collaborateurs/trices.
<span class="gh">===========</span>
Ici, le texte correspondant à la proposition de l&#39;autre collaborateur/trice.
&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;optionB

Ici, du texte commun aux versions des deux collaborateurs.
</pre></div>
</div>
<p>où <code class="docutils literal notranslate"><span class="pre">optionA</span></code> et <code class="docutils literal notranslate"><span class="pre">optionB</span></code> sont des identifiants des deux versions en conflit
(par exemple les noms des branches concernées).</p>
<p>La résolution du conflit consistera donc à remplacer la section entre
<code class="docutils literal notranslate"><span class="pre">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;optionA</span></code> et <code class="docutils literal notranslate"><span class="pre">&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;optionB</span></code> par la meilleure synthèse possible
des deux propositions.</p>
<div class="admonition-cas-d-usage admonition">
<p class="admonition-title">Cas d’usage</p>
<p>Supposons que l’on ait un dépôt local dont la branche principale (<code class="docutils literal notranslate"><span class="pre">main</span></code>)
ne contienne qu’un fichier <code class="docutils literal notranslate"><span class="pre">texte.md</span></code> dont le contenu est :</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Ceci est le seul fichier de ce dépôt
</pre></div>
</div>
<p>On souhaite se mettre à travailler dessus, et on crée pour cela une branche :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git checkout -b super_modifs
</pre></div>
</div>
<p>Dans cette branche, on modifie le contenu du fichier comme suit :</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Ceci est le seul et unique fichier de ce dépôt
</pre></div>
</div>
<p>On fait un commit, puis on retourne sur la branche principale (<code class="docutils literal notranslate"><span class="pre">main</span></code>).</p>
<p>Au lieu de tout de suite merger le contenu de la branche <code class="docutils literal notranslate"><span class="pre">super_modifs</span></code>, on
reprend le fichier tel qu’il est stocké dans la branche <code class="docutils literal notranslate"><span class="pre">main</span></code> et on le modifie
pour obtenir :</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Ceci est le seul fichier de ce super dépôt
</pre></div>
</div>
<p>Là encore, on commit notre changement, puis on essaie de merger le contenu de
la branche <code class="docutils literal notranslate"><span class="pre">super_modifs</span></code> :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git merge super_modifs
</pre></div>
</div>
<p>On obtient le message d’erreur suivant :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Auto</span><span class="o">-</span><span class="n">merging</span> <span class="n">texte</span><span class="o">.</span><span class="n">md</span>
<span class="n">CONFLICT</span> <span class="p">(</span><span class="n">content</span><span class="p">):</span> <span class="n">Merge</span> <span class="n">conflict</span> <span class="ow">in</span> <span class="n">texte</span><span class="o">.</span><span class="n">md</span>
<span class="n">Automatic</span> <span class="n">merge</span> <span class="n">failed</span><span class="p">;</span> <span class="n">fix</span> <span class="n">conflicts</span> <span class="ow">and</span> <span class="n">then</span> <span class="n">commit</span> <span class="n">the</span> <span class="n">result</span><span class="o">.</span>
</pre></div>
</div>
<p>Et si maintenant, on affiche le contenu de notre fichier, on trouve :</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
Ceci est le seul fichier de ce super dépôt
<span class="gh">=======</span>
Ceci est le seul et unique fichier de ce dépôt
&gt;&gt;&gt;&gt;&gt;&gt;&gt; super_modifs
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">git</span></code>, en tentant de merger la branche <code class="docutils literal notranslate"><span class="pre">super_modifs</span></code> dans la branche <code class="docutils literal notranslate"><span class="pre">main</span></code>,
a trouvé un conflit et vous l’indique ici.</p>
<p>Plus précisément, la partie <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> correspond à la version de la branche
courante et la partie <code class="docutils literal notranslate"><span class="pre">super_modifs</span></code> à la version de la branche du même nom.</p>
<p>On doit donc manuellement finaliser ce merge en mettant à jour notre fichier
pour qu’il contienne :</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span>Ceci est le seul et unique fichier de ce super dépôt
</pre></div>
</div>
<p>Une fois cela fait, on commit le résultat et le tour est joué :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git add texte.md
git commit -m <span class="s2">&quot;Finalisation merge super_modifs&quot;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="le-service-web-github">
<span id="sec-github"></span><h2>Le service web GitHub<a class="headerlink" href="#le-service-web-github" title="Permalink to this headline">¶</a></h2>
<p>GitHub est un service web qui fournit à la fois des fonctionnalités
d’hébergement de dépôts <code class="docutils literal notranslate"><span class="pre">git</span></code> (votre dépôt distant pour ce projet sera donc
hébergé sur GitHub) ainsi que des outils supplémentaires de gestion de projet.</p>
<p>Pour être très pragmatique, dans le cadre de la rédaction de ce document, vous
aurez besoin de :</p>
<ol class="simple">
<li><p>vous créer un compte GitHub par étudiant(e) ;</p></li>
<li><p>créer votre propre version du dépôt contenant ce document (on parle de
<em>fork</em>, et sur la page d’accueil de chaque projet, un lien pour cela
est fourni en haut à droite) ;</p></li>
<li><p>cloner votre <em>fork</em> localement, c’est-à-dire sur votre machine (un lien pour
cela est indiqué par un bouton vert sur la page d’accueil de votre <em>fork</em>) ;</p></li>
<li><p>envoyer vos modifications locales vers votre <em>fork</em> sur GitHub ;</p></li>
<li><p>créer une <strong>Pull Request</strong> sur le dépôt initial (<code class="docutils literal notranslate"><span class="pre">rtavenar/mongo_book</span></code>)
pour demander l’intégration de vos changements sur le dépôt de “référence”.</p></li>
</ol>
</div>
<div class="section" id="le-client-github-desktop">
<span id="sec-gh-desktop"></span><h2>Le client GitHub Desktop<a class="headerlink" href="#le-client-github-desktop" title="Permalink to this headline">¶</a></h2>
<p>GitHub fournit une interface graphique permettant de manipuler vos dépôts
<code class="docutils literal notranslate"><span class="pre">git</span></code>, nommée GitHub Desktop.
N’hésitez pas à l’utiliser si les lignes de commande vous font peur.
Ce logiciel semble être disponible sur les principaux OS
(cf <a class="reference external" href="https://github.com/shiftkey/desktop">ce lien</a> pour les utilisateurs Linux).</p>
</div>
<div class="section" id="a-vous-de-jouer">
<h2>À vous de jouer<a class="headerlink" href="#a-vous-de-jouer" title="Permalink to this headline">¶</a></h2>
<p>Une fois les parties de ce document attribuées chacune à un groupe, vous
devrez :</p>
<ol class="simple">
<li><p>suivre les étapes indiquées <a class="reference internal" href="#sec-github"><span class="std std-ref">plus haut</span></a> pour faire une première
Pull Request dans laquelle la seule modification est l’ajout de vos noms et
prénoms dans l’en-tête du fichier correspondant à votre chapitre
(date limite à définir)</p></li>
<li><p>à l’issue du projet, vous aurez une deuxième Pull Request à faire qui
permettra de demander l’intégration de votre chapitre rédigé dans l’ouvrage
complet
(date limite à définir)</p></li>
</ol>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./content"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="app_exemple.html" title="previous page">Annexe A : Exemple de fichier source</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Ouvrage collectif<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
    
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>


    
  </body>
</html>